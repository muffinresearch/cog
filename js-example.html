<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Cog Docs | JS Example</title>
  <link rel="stylesheet" href="cog/lib/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="cog/css/styleguide.css">
  <link rel="stylesheet" href="cog/lib/css/solarized_light.css">
  <script src="cog/lib/js-beautify/beautify.js"></script>
  <script src="cog/lib/js-beautify/beautify-css.js"></script>
  <script src="cog/lib/js-beautify/beautify-html.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
</head>

<body class="styleguide">
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header"> <a class="navbar-brand" href="index.html">Cog Docs</a> </div>
    </div>
  </div>
  <a class="fork-link" href="https://github.com/muffinresearch/cog"><img src="cog/github/orange.png" alt="Fork me on Github" /></a>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar">
        <ul class="nav nav-sidebar">
          <li><a href="index.html">Index</a></li>
          <li><a href="./buttons.html">Buttons Example</a></li>
          <li><a href="./documentation.html">Just docs</a></li>
          <li><a href="./html-iframe-content.html">HTML content</a></li>
          <li class="active"><a href="./js-example.html">JS Example</a></li>
          <li><a href="./multi-iframe.html">Multiple iframes</a></li>
          <li><a href="./view.html">View Example</a></li>
        </ul>
      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <h1>JS Example</h1>
        <p>This shows the dynamic code view.</p>
        <p>If <code>dynamicSource</code> is true, the source specified by <code>sourcecodeSelector</code> is dynamically rendered from the iframe as highlighted HTML as it changes.</p>
        <p>Configuration:</p> <pre><code class="language-yaml">dynamicSource: <span class="hljs-literal">true</span>
sourcecodeSelector: '.wrapper'
renderer: nunjucks
<span class="hljs-keyword">template</span>: js-example.html
</code></pre>
        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">Example <span class="size"></span></h3>
            <div class="resize-buttons btn-group pull-right">
              <button type="button" class="btn btn-default btn-xs" data-vp="276:384"> <span class="glyphicon glyphicon-phone"></span> Overlay </button>
              <button type="button" class="btn btn-default btn-xs" data-vp="350:598"> <span class="glyphicon glyphicon-phone"></span> Phone </button>
              <button type="button" class="btn btn-default btn-xs" data-vp="600:887"> <span class="glyphicon glyphicon-phone"></span> Tablet </button>
            </div>
          </div>
          <div class="panel-body">
            <div class="iframe-wrapper resizable">
              <iframe id="js-example1" src="iframe/js-example1.html"></iframe>
            </div>
          </div> <pre class="panel-footer"><code class="language-markup" data-iframe-id="js-example1">&lt;p <span class="hljs-type">class</span>=<span class="hljs-string">"foo"</span>&gt;Hello I&amp;apos;m <span class="hljs-keyword">some</span> <span class="hljs-type">text</span>!&lt;/p&gt;</code></pre>
          <script>
            (function() {
              var iframe_ = document.querySelector('#js-example1');
              iframe_.onload = function() {
                hljs.configure({
                  tabReplace: '    ',
                  useBR: true,
                });
                var codeViewer = document.querySelector('code[data-iframe-id="js-example1"]');
                var source = iframe_.contentWindow.document.querySelector('.wrapper');
                codeViewer.innerHTML = hljs.highlight('html', html_beautify(source.innerHTML.trim())).value;
                var observer = new window.MutationObserver(function(mutations) {
                  mutations.forEach(function() {
                    codeViewer.innerHTML = hljs.highlight('html', html_beautify(source.innerHTML.trim())).value;
                  });
                });
                observer.observe(source, {
                  attributes: true,
                  characterData: true,
                  childList: true,
                  subtree: true,
                });
              }
            })();
          </script>
        </div>
      </div>
    </div>
  </div>
  <script src="cog/lib/jquery/js/jquery.min.js"></script>
  <script src="cog/lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="cog/js/resize.js"></script>
</body>

</html>